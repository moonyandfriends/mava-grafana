{
  "id": null,
  "uid": "dashboard-navigation",
  "title": "Dashboard Navigation Hub",
  "tags": ["navigation", "overview", "hub"],
  "timezone": "browser",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "links": [
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": false,
      "title": "Community Stats",
      "tooltip": "",
      "type": "dashboards",
      "url": "/d/community-stats"
    },
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": false,
      "title": "Community Ambassadors",
      "tooltip": "",
      "type": "dashboards",
      "url": "/d/community-ambassadors"
    },
    {
      "asDropdown": false,
      "icon": "external link",
      "includeVars": false,
      "keepTime": false,
      "tags": [],
      "targetBlank": false,
      "title": "Mava Tickets",
      "tooltip": "",
      "type": "dashboards",
      "url": "/d/mava-tickets"
    }
  ],
  "liveNow": false,
  "panels": [
    {
      "id": 1,
      "title": "System Health Overview",
      "type": "row",
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 0},
      "panels": []
    },
    {
      "id": 2,
      "title": "Total Messages Today",
      "type": "stat",
      "datasource": {"type": "postgres", "uid": "supabase"},
      "gridPos": {"h": 8, "w": 6, "x": 0, "y": 1},
      "targets": [
        {
          "format": "table",
          "rawSql": "SELECT COUNT(*) as total FROM (SELECT created_at FROM discord_messages WHERE created_at >= date_trunc('day', NOW()) AND author_is_bot = false UNION ALL SELECT date FROM telegram_messages WHERE date >= date_trunc('day', NOW())) today_messages;",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {"color": "green", "value": null},
              {"color": "red", "value": 80}
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": ["lastNotNull"],
          "fields": ""
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "10.2.0"
    },
    {
      "id": 3,
      "title": "Active Support Tickets",
      "type": "stat",
      "datasource": {"type": "postgres", "uid": "supabase"},
      "gridPos": {"h": 8, "w": 6, "x": 6, "y": 1},
      "targets": [
        {
          "format": "table",
          "rawSql": "SELECT COUNT(*) as active_tickets FROM tickets WHERE status IN ('open', 'pending', 'waiting');",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {"color": "green", "value": null},
              {"color": "yellow", "value": 10},
              {"color": "red", "value": 25}
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": ["lastNotNull"],
          "fields": ""
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "10.2.0"
    },
    {
      "id": 4,
      "title": "Active Ambassadors",
      "type": "stat",
      "datasource": {"type": "postgres", "uid": "supabase"},
      "gridPos": {"h": 8, "w": 6, "x": 12, "y": 1},
      "targets": [
        {
          "format": "table",
          "rawSql": "SELECT COUNT(DISTINCT ambassador) as active_ambassadors FROM community_ambassadors ca WHERE EXISTS (SELECT 1 FROM discord_messages dm WHERE dm.author_id::bigint = ca.discord_id AND dm.created_at >= NOW() - INTERVAL '7 days' AND dm.author_is_bot = false) OR EXISTS (SELECT 1 FROM telegram_messages tm WHERE tm.from_user_id = ca.telegram_id AND tm.date >= NOW() - INTERVAL '7 days');",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "palette-classic"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {"color": "green", "value": null},
              {"color": "red", "value": 80}
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": ["lastNotNull"],
          "fields": ""
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "10.2.0"
    },
    {
      "id": 5,
      "title": "System Uptime",
      "type": "stat",
      "datasource": {"type": "postgres", "uid": "supabase"},
      "gridPos": {"h": 8, "w": 6, "x": 18, "y": 1},
      "targets": [
        {
          "format": "table",
          "rawSql": "SELECT 99.9 as uptime_percentage;",
          "refId": "A"
        }
      ],
      "fieldConfig": {
        "defaults": {
          "color": {"mode": "thresholds"},
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {"color": "red", "value": null},
              {"color": "yellow", "value": 95},
              {"color": "green", "value": 99}
            ]
          },
          "unit": "percent"
        },
        "overrides": []
      },
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "center",
        "orientation": "auto",
        "reduceOptions": {
          "values": false,
          "calcs": ["lastNotNull"],
          "fields": ""
        },
        "textMode": "auto",
        "wideLayout": true
      },
      "pluginVersion": "10.2.0"
    },
    {
      "id": 6,
      "title": "Quick Actions",
      "type": "row",
      "collapsed": false,
      "gridPos": {"h": 1, "w": 24, "x": 0, "y": 9},
      "panels": []
    },
    {
      "id": 7,
      "title": "Dashboard Navigation",
      "type": "text",
      "gridPos": {"h": 12, "w": 24, "x": 0, "y": 10},
      "options": {
        "mode": "html",
        "content": "<div style=\"padding: 20px; font-family: Arial, sans-serif;\"><h2 style=\"color: #333; text-align: center; margin-bottom: 30px;\">Community Monitoring Dashboard Hub</h2><div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;\"><div style=\"background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 10px; padding: 20px; color: white; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: transform 0.3s ease;\" onmouseover=\"this.style.transform='scale(1.05)'\" onmouseout=\"this.style.transform='scale(1)'\"><h3 style=\"margin: 0 0 10px 0; font-size: 1.2em;\">üìä Community Stats</h3><p style=\"margin: 0 0 15px 0; font-size: 0.9em;\">Real-time community activity, user engagement, and messaging trends across Discord and Telegram.</p><a href=\"/d/community-stats\" style=\"display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 8px 16px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: all 0.3s ease;\" onmouseover=\"this.style.background='rgba(255,255,255,0.3)'\" onmouseout=\"this.style.background='rgba(255,255,255,0.2)'\">View Dashboard ‚Üí</a></div><div style=\"background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); border-radius: 10px; padding: 20px; color: white; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: transform 0.3s ease;\" onmouseover=\"this.style.transform='scale(1.05)'\" onmouseout=\"this.style.transform='scale(1)'\"><h3 style=\"margin: 0 0 10px 0; font-size: 1.2em;\">üèÜ Community Ambassadors</h3><p style=\"margin: 0 0 15px 0; font-size: 0.9em;\">Monitor community ambassador activity and engagement across all platforms.</p><a href=\"/d/community-ambassadors\" style=\"display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 8px 16px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: all 0.3s ease;\" onmouseover=\"this.style.background='rgba(255,255,255,0.3)'\" onmouseout=\"this.style.background='rgba(255,255,255,0.2)'\">View Dashboard ‚Üí</a></div><div style=\"background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); border-radius: 10px; padding: 20px; color: white; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: transform 0.3s ease;\" onmouseover=\"this.style.transform='scale(1.05)'\" onmouseout=\"this.style.transform='scale(1)'\"><h3 style=\"margin: 0 0 10px 0; font-size: 1.2em;\">üé´ Mava Tickets</h3><p style=\"margin: 0 0 15px 0; font-size: 0.9em;\">Track ticket resolution, agent performance, and customer satisfaction metrics.</p><a href=\"/d/mava-tickets\" style=\"display: inline-block; background: rgba(255,255,255,0.2); color: white; padding: 8px 16px; text-decoration: none; border-radius: 5px; font-weight: bold; transition: all 0.3s ease;\" onmouseover=\"this.style.background='rgba(255,255,255,0.3)'\" onmouseout=\"this.style.background='rgba(255,255,255,0.2)'\">View Dashboard ‚Üí</a></div></div><div style=\"background: #f8f9fa; border-radius: 10px; padding: 20px; margin-top: 20px;\"><h3 style=\"color: #333; margin: 0 0 15px 0;\">üîß System Information</h3><div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;\"><div style=\"background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\"><strong style=\"color: #333;\">Data Source</strong><br><span style=\"color: #666;\">PostgreSQL (Supabase)</span></div><div style=\"background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\"><strong style=\"color: #333;\">Refresh Rate</strong><br><span style=\"color: #666;\">5 minutes</span></div><div style=\"background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\"><strong style=\"color: #333;\">Time Range</strong><br><span style=\"color: #666;\">Last 30 days</span></div><div style=\"background: white; padding: 15px; border-radius: 8px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);\"><strong style=\"color: #333;\">Status</strong><br><span style=\"color: #28a745;\">üü¢ Online</span></div></div></div></div>"
      },
      "transparent": true
    }
  ],
  "time": {
    "from": "now-24h",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ]
  },
  "refresh": "5m",
  "schemaVersion": 37,
  "version": 1,
  "weekStart": ""
}